{% macro add_transaction(banks, categories, today) %}
    <div id="new-transaction-modal" class="modal">
        <form id="new-transaction-form">
            <div class="modal-content">
                <h4><i class="material-icons">add_circle</i> Add a new transaction</h4>

                <!--Description-->
                <div class="input-field col m12 s12">
                    <i class="material-icons prefix">textsms</i>
                    <input name="desc" id="transaction-description" type="text" data-length="256">
                    <label for="transaction-description">Description</label>
                </div>

                <!--Amount-->
                <div class="input-field col m4 s12">
                    <i class="material-icons prefix">attach_money</i>
                    <input name="amount" id="transaction-amount" type="text" pattern="[0-9]+(\.[0-9]{1,2})?" class="validate">
                    <label for="transaction-amount" data-error="Please enter a amount like 123 or 456.50">Amount</label>
                </div>

                <!--Date-->
                <div class="input-field col m4 s12">
                    <i class="material-icons prefix">date_range</i>
                    <input name="date" id="transaction-date" value="{{ today }}" type="text" pattern="[0-9]{1,2}-[0-9]{1,2}-[12][0-9]{3}" class="validate valid">
                    <label for="transaction-date" data-error="Please enter a date using like DD-MM-YYYY">Date</label>
                </div>

                <!--Bank-->
                <div class="input-field col m4 s12">
                    <i class="material-icons prefix">account_balance</i>
                    <select name="bank">
                        {% for bank in banks %}
                        <option value="{{ bank.bank_id }}" data-color="{{ bank.color }}">{{ bank.name }}</option>
                        {% endfor %}
                    </select>
                    <label>Bank</label>
                </div>

                <!--Category-->
                <div class="input-field col m12 s12">
                    <select name="cat">
                        {% for category in categories %}
                        <option value="{{ category.category_id }}" data-material-icon="{{ category.icon }}" class="circle">{{ category.name }}</option>
                        {% endfor %}
                    </select>
                    <label>Category</label>
                </div>

                <!--<div class="col m12 s12 switch center-align" style="line-height:5">-->
                    <!--<label>-->
                    <!--Select Category-->
                    <!--<input type="checkbox" name="selectCategory" disabled="">-->
                    <!--<span class="lever"></span>-->
                    <!--Use Suggested Category-->
                    <!--</label>-->
                <!--</div>-->

                <!--<div class="input-field col m6">-->
                    <!--<input name="suggestedCategory" id="suggested-category" type="text" disabled="" value="Category">-->
                    <!--<label for="suggested-category">Suggested Category</label>-->
                <!--</div>-->

            </div>
            <div class="modal-footer">
                <button type="submit" class="waves-effect btn" style="margin-left:6px">
                    <i class="material-icons left">add</i> Add
                </button>
                <button type="button" class="modal-action modal-close waves-effect btn-flat">Cancel</button>
            </div>
        </form>
    </div>

    <script type="text/javascript">
        function addTransaction(bankId) {
            $("#new-transaction-modal").modal('open');
        }
    </script>
{% endmacro %}